<ion-view title="Ingredients">
  <ion-nav-buttons side="left">
    <button menu-toggle="left"class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
  <button menu-toggle="right" class="button button-icon icon ion-ios7-person"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <div class="list list-inset">
      <label class="item item-input">
        <i class="icon ion-search placeholder-icon"></i>
        <input type="text" ng-model="query", placeholder="Search Ingredients" />
      </label>
    </div>
    <ion-list show-delete="true">
      <ion-item ng-repeat="ingredient in ingredients | ingredientFilter:query | orderBy:['food.name']">
        {{ ingredient.food.name }}
        {{ ingredient.quantity }} {{ingredient.measurement.name }}
        <ion-delete-button class="ion-android-trash button icon button-icon" ng-click="deleteIngredient(ingredient)"></ion-delete-button>
      </ion-item>
    </ion-list>
    <div class="row">
      <form ng-submit="createIngredient()">
        <div class="col">
          <input type="text" placeholder="Food" ng-model="newIngredient.food_name" required />
        </div>
        <div class="col">
          <input type="number" placeholder="Quantity" ng-model="newIngredient.quantity" required />
        </div>
        <div class="col">
          <select ng-model="newIngredient.measurement_id">
            <option ng-repeat="measurement in measurements" value="{{ measurement.id }}">{{ measurement.name }}</option>
          </select>
        </div>
        <div class="padding">
          <button type="submit" class="button button-block button-positive">Create</button>
          <button type="reset" ng-click ="toggleShowSignIn()" class="button button-block button-assertive">Cancel</button>
        </div>
      </form>
    </div>
  </ion-content>
</ion-view>
